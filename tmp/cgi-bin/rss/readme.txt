###################################
#                                 #
#   SimpleRSS (C)CGI Pal          #
#   設置の仕方とマニュアル        #
#                                 #
###################################

特徴:
RSSを自動生成します。
HTMLページも自動生成できますので、
更新ページなどに使えます。

========================================================================================
◇ ファイルの説明
========================================================================================

admin.cgi      (管理用CGIスクリプト)他人にアクセスされないよう、なるべくファイル名を
               変更してください。
data.log       (ログファイル)
index.rdf      (RSS)
kousinskin.htm (HTMLページのひな形)
kousin.htm     (HTMLページ)

========================================================================================
◇ 設置の仕方
========================================================================================

サーバーのマニュアルを見て、Perlのパスなどを確認します。
rss.lzhを解凍するとrssフォルダができます。

１.admin.cgiをテキストエディタで開いてパスワードなど設定項目を変更します。
 $url='http://www.xxx.xxx/';ここにサイトのURLを記入することを忘れないでください。

２.rssフォルダをそのまま転送して、パーミッションを設定します。

＜設置例: CGIをどこにおいてもいいサーバー場合＞
[]内はパーミッション(記入していないものは設定の必要なし)
public_html/
           |-- index.html(サイトのトップページ)
           +-- rss/
                  |-- admin.cgi[705]
                  |-- data.log[606]
                  |-- index.rdf[606]
                  |-- kousin.htm[606]
                  +-- kousinskin.htm

３.admin.cgiにブラウザでアクセスしてパスワードを入力すると(初期状態はadmin)ログインできますので
 入力フォームに入力してボタンを押すとデータが登録されてRSSが生成されます。

４.トップページのheadタグ内に
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://xxx.xxx/rss/index.rdf" />
  と記入します。http://xxx.xxxのところはサイトのurlにしてください。
　トップページの適当な場所に<a href="http://xxx.xxx/rss/index.ref">RSS</a>とリンクを張ってください。

========================================================================================
◇ 文字コードについて
========================================================================================

都合でRSSの文字コードはシフトJISにしています。
UTF-8にしたいときは、
admin.cgiの582行の
print FILE qq(<?xml version="1.0" encoding="Shift_JIS" ?>\n);
を
print FILE qq(<?xml version="1.0" encoding="utf-8" ?>\n);
に変更

578行の
$hd=$_[1];
の下に

use Jcode;
$sitename=Jcode->new($sitename,"sjis")->utf8;
$sitedesp=Jcode->new($sitename,"sjis")->utf8;

と追加

615行の
($id,$date,$title,$link,$comment)=split(/<>/,$_);
の下に
$title=Jcode->new($title,"sjis")->utf8;
$comment=Jcode->new($comment,"sjis")->utf8;

と記入してください。
なお、サーバーにJcode.pmというのが
インストールされている必要があります。

========================================================================================
◇ HTMLページについて
========================================================================================

HTMLページを作成したいときは、admin.cgiの
$kousin=0;を1にするとkousin.htmにHTMLが書き出されますので、
トップページなどにインラインフレームなどでkousin.htmを表示してください。
デザインはkousinskin.htmで変更してください。
